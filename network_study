


----------- 2017-01-03 14:20:43
$ telnet 10.12.6.43 27017
Trying 10.12.6.43...
Connected to 10.12.6.43.
Escape character is '^]'.


Connection closed by foreign host.
kidd@kidd-OptiPlex-9020:
~/workspace/abc/apes-crawler
$ telnet 10.12.6.43 27018
Trying 10.12.6.43...
telnet: Unable to connect to remote host: Connection refused


----------- 2016-08-10 11:30:48
http://www.cnblogs.com/misoag/archive/2013/02/04/2891636.html
$ sudo apt-get install squid3 squid3-common

$ apt-cache search squid
squid-deb-proxy - Squid proxy configuration to optimize package downloads
squid-langpack - Localized error pages for Squid
squid3 - Full featured Web Proxy cache (HTTP proxy)
squid3-common - Full featured Web Proxy cache (HTTP proxy) - common files
squid3-dbg - Full featured Web Proxy cache (HTTP proxy) - Debug symbols


proxy    13803     1  0 11:30 ?        00:00:00 /usr/sbin/squid3 -N -YC -f /etc/squid3/squid.conf
proxy    13809 13803  0 11:30 ?        00:00:00 (logfile-daemon) /var/log/squid3/access.log

sudo service squid3 restart

$ tail /etc/squid3/squid.conf 
acl internal_network src 10.12.0.0/24
http_access allow internal_network

$ cat  /etc/squid3/squid.conf  | grep 312
# acl aclname localport 3128 ...        # TCP port the client connected to [fast]
# acl aclname myportname 3128 ...       # http(s)_port name [fast]
# Squid normally listens to port 3128
http_port 3128


~/workspace/bc/MissionImpossible
$ cat  /etc/squid3/squid.conf  | grep localhost
# ACLs all, manager, localhost, and to_localhost are predefined.
#   acl localhost src 127.0.0.1
#   follow_x_forwarded_for allow localhost
# Only allow cachemgr access from localhost
http_access allow localhost manager
# one who can access services on "localhost" is a local user
#http_access deny to_localhost
http_access allow localhost

~/workspace/bc/MissionImpossible
$ cat  /etc/squid3/squid.conf  | grep localhost
# ACLs all, manager, localhost, and to_localhost are predefined.
#   acl localhost src 127.0.0.1
#   follow_x_forwarded_for allow localhost
# Only allow cachemgr access from localhost
http_access allow localhost manager
# one who can access services on "localhost" is a local user
#http_access deny to_localhost
http_access allow localhost

$ cat /etc/hosts
127.0.0.1 localhost
127.0.1.1 kidd-OptiPlex-9020
#10.12.0.1  tz8.muder.pw
10.12.0.1 tz8-dev.muder.pw


------------ 2016-08-10 12:20:32
ubuntu dns server

sudo apt-get install bind9 dnsutils

这时在/etc/bind下会出现（这里跟其他的UNIX/LINUX不同，一般其他的UNIX/LINUX默认是把配置文件放

在/etc/named下，数据文件放在/var/named或/var/bind下的，而UBUNTU都一起放在这个目录下了）

$ ls
bind.keys  db.0  db.127  db.255  db.empty  db.local  db.root  named.conf  named.conf.default-zones  named.conf.local  named.conf.options  rndc.key  zones.rfc1918



这里需要稍微讲一下区数据文件里的几个资源记录的含义：

SOA记录：指示该区的权威
NS记录：列出该区的一个名字服务器
A记录：名字到地址的映射 （也就是正向解析）
PTR记录：地址到名字的映射 （也就是反向解析）
CNAME：规范名字 （别名记录）

下面开始服务配置
缓存域名服务器设置 （Cache-only server）
缓存域名服务器顾名思义其自身是没有域名记录的，仅仅从别的DNS上获取记录并做高速缓存。
安装好DNS服务后，不需要任何配置，只需要把服务起起来就是缓存域名服务器了。

代码:
sudo /etc/init.d/bind start


$ sudo php yii serve 10.12.0.1 --port=80

------------ 2016-08-12 13:25:05
https://www.charlesproxy.com/documentation/installation/apt-repository/
https://www.charlesproxy.com/latest-release/download.do

$ sudo apt-get install charles-proxy
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 charles-proxy : Depends: java8-runtime but it is not installable
E: Unable to correct problems, you have held broken packages.

----------- 2016-08-12 14:55:56
 用Fiddler查看 Android/iOS 网络请求

1.下载fiddler，尽量到官方网站找最新的版本

我这里也放了一个：http://files.cnblogs.com/xiaokang088/fiddler4setup.zip 

2. 打开Fiddler后 Tools > Fiddler Options > Connections.勾选 Allow remote computers to connect 
同时把上面显示的端口号【8888】记下来。

3.打开Android手机，长摁 wifi的名字，显示如下界面，设置代理。

主机名是PC的IP，端口是刚才上面的端口。
4.iOS 上同样，点击wifi名字，填写代理。
手机上打开浏览器访问PC，地址为： http://192.168.123.12:8888/

not sure why, fiddler for windows does not work as proxy immediately, after restarting and then some other time, the proxy becomes working. 
the proxy only captures the requests from the client if only the client used the proxy.

------- 2016-08-12 15:53:23
windows: 本地 绑定域名及host使用说明 
http://blog.csdn.net/flymachine/article/details/7103719/

域名解析有两种方法：DNS 和 主机表。主机表作为一个文本文件存放在 Windows9x 的 \windows 文件夹下或 WindowsNT 的 \Winnt\system32\drivers\etc 文件夹下。Hosts 文件的格式非常简单，即一条一条的 IP 地址对应域名的记录，一个实例如下：
127.0.0.1 localhost # 本地主机
192.168.0.1 proxyserver # 代理服务器
192.168.0.100 www.mydom.net # 内部网 WWW 服务器
10.12.0.1 tz8-dev.muder.pw

  after modification, do not need to restart the os.

after setting this binding for the proxy, a client using the proxy accessing tz8-dev.muder.pw will visit "10.12.0.1" instead.

------- 2016-08-12 15:19:19
sudo tcpdump -i eth1 src 10.12.0.35 -A

15:17:19.982104 IP localhost.51737 > localhost.3128: Flags [P.], seq 0:565, ack 1, win 4117, options [nop,nop,TS val 848342323 ecr 3709581], length 565
@.@.iF
..#
......8
.y.V..............
2..3.8..GET http://10.12.0.1:8080/mission/list HTTP/1.1
Host: 10.12.0.1:8080
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Proxy-Connection: keep-alive
Cookie: PHPSESSID=9hj9g5l1fdob586e2sqijtc9a3; _identity=%5B%22194%22%2C%22Xre5y1KqZiejzHu1uvMGWwu042APSYLz%22%2C2592000%5D; userId=194
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 9_3_3 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Mobile/13G34 MicroMessenger/6.3.19 NetType/WIFI Language/zh_CN
Accept-Language: zh-cn
Accept-Encoding: gzip, deflate
Connection: keep-alive

